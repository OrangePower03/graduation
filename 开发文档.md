## 需求

### 管理员

1. 角色管理
2. 用户管理
3. 上传老年人身体指标
4. 管理指标（不重要）



### 老年人

1. 管理年轻人，新增需要等待年轻人发送请求
2. 查看自己的身体指标和系统提出的建议，根据时间排序



### 年轻人

1. 管理老年人，新增需要老年人的通过
2. 查看关联的老年人的身体指标和系统提出的建议，根据时间排序






## 接口文档

1. 注册

   `/register`，POST

   请求体

   ```body
   username：不能纯数字，在4-17个字符间
   password：8-20位，不能有除了字母数字外的其他字符
   rPassword
   phone
   name
   idNumber
   ```


2. 登录

   `/login`，POST

   请求体

   ```body
   username、idNumber、phone (identification)
   password
   ```


3. 登出

   `/logout`，DELETE


4. 新增老年人和年轻人的关系，老年人和年轻人共用接口

   `/person/{relationId}`，POST

5. 删除关系

   `/person/{relationId}`，DELETE

6. 查询已有关系

   `/person`，GET，不需要分页，

   参数status=0/1，默认0，表示已绑定

7. 根据身份证和名字来查询用户

   `/person/select`，GET，只会返回一个数据

   参数idNumber=xxx&name=xxx，二者必填

8. 查询所有现有的指标

   `/indicator`，GET

9. 新增老年人的测量指标

   `/indicator/elder`，POST

   请求体

   ```json
   {
       "elderId": "",
       "elderIndicators": [
           {
               "indicatorId": "指标外键id",
           	"value": "老年人指标数值"
           }, {}
       ]
   }
   ```

10. 年轻人查询老年人指标，不携带任何其他数据，只是返回基础数据

  `/indicator/elder/{id}`，GET

  参数：startTime，检查时间可不填，填表示从这个时间开始向后展示

  响应体

  ```json
  {
      "elderId": "",
      "allIndicator": [
          {
              "checkTime": "",
      		"normal": 0/1 // 指标状态，0正常，1异常
          }, {}
      ]
  }
  ```

11. 老年人自己查询自己的指标，不携带任何其他数据，只是返回基础数据

    `/indicator/elder`，GET

    参数：startTime，检查时间可不填，填表示从这个时间开始向后展示

12. 年轻人查询老年人具体指标，包括食品建议和生活建议

    `/indicator/elder/detail/{elderId}`，GET请求

    参数：checkTime，检查时间必须填

13. 老年人查询自己具体指标，包括食品建议和生活建议

    `/indicator/elder/detail`，GET请求

    参数：checkTime，检查时间必须填





## 图数据库设计

构建步骤

节点：

1. 指标名节点`:Indicator`

   ```properties
   id=数据库中的指标id
   name=数据库中的指标name
   ```

2. 症状节点`:Symptom`

   ```properties
   name=症状名，作为主键
   induced=症状可能会诱发的症状
   suggestion=预防建议
   ```

3. 食物类别节点`:FoodCategory`

   ```properties
   name=类别名，如维生素C，主键
   ```

4. 食物节点`:Food`

   ```properties
   name=食物名，如西红柿，主键
   ```







关系：

1. 指标->症状的关系`:Indicator_Symptom_LOW`和`:Indicator_Symptom_HIGH`

   ​


2. 症状->类别的关系`:Symptom_FoodCategory_RECOMMEND`和`:Symptom_FoodCategory_UNRECOMMEND`

   ​

3. 类别->食物的关系`:FoodCategory_Food`

